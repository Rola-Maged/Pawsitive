#! /usr/bin/env node
import { Command } from 'commander';

import { deploy, create } from './commands/index.js';

const program = new Command('adminjs-cloud');
program
  .command('create')
  .requiredOption('--name <string>', 'Name for the application')
  // eslint-disable-next-line max-len
  .requiredOption('--database <string>', 'Database connection string eg. postgres://adminjs:adminjs@localhost:5432/adminjs')
  .requiredOption('--apiKey <string>', 'API Key')
  .requiredOption('--apiSecret <string>', 'API Secret')
  .description('Create Project from template')
  .action(create);

program
  .command('deploy')
  .requiredOption('--apiKey <string>', 'API Key')
  .requiredOption('--apiSecret <string>', 'API Secret')
  .option('--config <string>', 'Path to your configuration file (relative to PWD)')
  .description('Deploy the package')
  .action(deploy);

program.parseAsync(process.argv);
